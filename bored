#!/bin/bash

#############################
#    ____________________   #
#   /    boredbutton    /|  #
#  /   by knuxfanwin8  / |  #
#  \  ################ \ |  #
#   \___________________\|  #
#                           #
#############################
# Github: https://github.com/knuxfanwin8/boredbutton
# Current version:
version="v1.2.2"
versionnum="003"
# Feel free to fork and modify the code, as long as you don't claim it as your own!
###############################
# Have a good idea for an activity? Post it in an issue in the GitHub repo!
# Want to improve the code? Fork the repo, and make a pull request!
###############################

# Colors
background='\033[1;40m'
white='\033[1;37m'
error='\033[0;31m'
warn='\033[1;33m'
menuname='\033[1;32m'
randomcolor="\033[38;5;$(awk -v min=20 -v max=231 'BEGIN{srand(); print int(min+rand()*(max-min+1))}')m"

# Set background
printf "$background$white"

# Variables
homedir=~/
arg=$1
arg2=$2
debug="false"

# List location
list=~/.bored/idealist.txt
# Counter location
counterfile=~/.bored/count.txt

# Fetch counter.
function getcounter {
	if [ -e ~/.bored/count.txt ]
	then
		echo "$(cat ~/.bored/count.txt)"
	else
		echo "0"
	fi
}
counter="$(getcounter)"

# Fetch updater toggle.
function gettoggle {
	if [ -e ~/.bored/updater ]
	then
		echo "$(cat ~/.bored/updater)"
	else
		echo "0"
	fi
}
updatertoggle="$(gettoggle)"


# Debugger
source ./debugger.sh

# Checks
source ./checks.sh

# Functions
source ./functions.sh

# Idea manager
source ./ideaman.sh

# Setup utility
function setup { 
	noupdate=1
    source ./setupmenu.sh

}

# Argument checks
source ./arguments.sh

# Updater
if [ "$updatertoggle" = "1" ]
then
	source ./updater.sh
fi

# Idea generator
source ./gen.sh

# Reset colors
printf "\033[0m"

boreddebug "Done in $SECONDS seconds."
exit
